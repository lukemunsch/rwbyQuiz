let questions = [
    {
        question: "What body part did Yang lose in her first meeting with Adam?",
        answer1: "Right arm",
        answer2: "Left leg", 
        answer3: "Her hair", 
        answer4: "Wait... WHAT!!!",
        correctAnswer: 1
    },
    {
        question: "What is the nickname given to Jaune Arc in the first episode?",
        answer1: "Slugger", 
        answer2: "Ladies-Man", 
        answer3: "Vomit-Boy", 
        answer4: "Useless-stick",
        correctAnswer: 1
    },
    {
        question: "What happened to the moon?",
        answer1: "Always been like that",
        answer2: "Gods destroyed it",
        answer3: "Grimm Attack",
        answer4: "Asteroid Impact",
        correctAnswer: 2
    },
    {
        question:"Which character is not based on a Fairy Tale?",
        answer1: "Ren",
        answer2: "Ruby",
        answer3: "Hazel",
        answer4: "Weis",
        correctAnswer: 1
    },
    {
        question:"Which character does not use a scythe weapon?",
        answer1: "Ruby Rose",
        answer2: "Qrow Branwen",
        answer3: "Maria Calavera",
        answer4: "Glynda Goodwitch",
        correctAnswer: 4
    },
    {
        question:"Which locker belongs to Jaune?",
        answer1: "616",
        answer2: "636",
        answer3: "239",
        answer4: "345",
        correctAnswer: 2
    },
    {
        question:"Where was Sunn raised?",
        answer1: "Mistral",
        answer2: "Vacuo",
        answer3: "Mantle",
        answer4: "Vale",
        correctAnswer: 2
    },
    {
        question:"Who is the mother of Ruby?",
        answer1: "Summer",
        answer2: "Willow",
        answer3: "Kali",
        answer4: "Raven",
        correctAnswer: 1
    },
    {
        question:"Who is the odd One out?",
        answer1: "Ozma",
        answer2: "Oscar",
        answer3: "Ozpin",
        answer4: "Oobleck",
        correctAnswer: 4
    },
    {
        question:"Pyrrha Nikos' weapon of choice is what?",
        answer1: "Sword-lance and shield",
        answer2: "Warhammer",
        answer3: "Twin pistols",
        answer4: "Rifle trident",
        correctAnswer: 1
    },
    //10 questions
    {
        question:"How many teammembers make up a standard team roster?",
        answer1: "3",
        answer2: "4",
        answer3: "5",
        answer4: "8",
        correctAnswer: 2
    },
    {
        question:"Who is the headmaster of Beacon academy?",
        answer1: "Ozpin",
        answer2: "Ironwood",
        answer3: "Taiyang",
        answer4: "Qrow",
        correctAnswer: 1
    },
    {
        question:"What is the connection between Raven and Qrow?",
        answer1: "Husband and Wife",
        answer2: "Twin Siblings",
        answer3: "Father and Daughter",
        answer4: "Mother and Son",
        correctAnswer: 2
    },
    {
        question:"Who was next in line to be the Fall maiden?",
        answer1: "Pyrrha",
        answer2: "Nora",
        answer3: "Yang",
        answer4: "Blake",
        correctAnswer: 1
    },
    {
        question:"Which Member of RWBY lived in Menagerie?",
        answer1: "Ruby",
        answer2: "Weiss",
        answer3: "Blake",
        answer4: "Yang",
        correctAnswer: 3
    },
    {
        question:"What did team RWBY receive in the post from Taiyang?",
        answer1: "A load of washing",
        answer2: "A dog and his food",
        answer3: "Weapon repair kits",
        answer4: "Gushy family letters",
        correctAnswer: 2
    },
    {
        question:"Adam's surname is which member of the zodiac?",
        answer1: "Capricorn",
        answer2: "Virgo",
        answer3: "Taurus",
        answer4: "Leo",
        correctAnswer: 3
    },
    {
        question:"Who is robbing stores in Vale for their dust supplies?",
        answer1: "Roman",
        answer2: "Sun",
        answer3: "Cardin",
        answer4: "Velvet",
        correctAnswer: 1
    },
    {
        question:"Who is the silent partner to Roman Torchwick?",
        answer1: "Neo",
        answer2: "Cinder",
        answer3: "Emerald",
        answer4: "Salem",
        correctAnswer: 1
    },
    {
        question:"Which professor has probably had too many cups of coffee?",
        answer1: "Professor Port",
        answer2: "Professor... Doctor Oobleck",
        answer3: "Professor Goodwitch",
        answer4: "Professor Ozpin",
        correctAnswer: 2
    },
    //20 question

    {
        question:"In the Vale fighting festival, who fights against Pyrrha in the final match?",
        answer1: "Sunn",
        answer2: "Emerald",
        answer3: "Yang",
        answer4: "Penny",
        correctAnswer: 4
    },
    {
        question:"Who is the only artificial being who can generate aura?",
        answer1: "Penny Polendina",
        answer2: "Nora Valyrie",
        answer3: "Weiss Schnee",
        answer4: "Cinder Fall",
        correctAnswer: 1
    },
    {
        question:"How many gods were there when Salem los her true love?",
        answer1: "4",
        answer2: "3",
        answer3: "2",
        answer4: "1",
        correctAnswer: 3
    },
    {
        question:"What is the main produce of Weiss' family business?",
        answer1: "Food",
        answer2: "Guns",
        answer3: "Clothes",
        answer4: "Dust",
        correctAnswer: 4
    },
    {
        question:"What is located in the vault under Haven Academy?",
        answer1: "Staff of Creation",
        answer2: "Relic of Knowledge",
        answer3: "The Fall Maiden",
        answer4: "Ozpin's Favourite Books",
        correctAnswer: 2
    },
    {
        question:"What is the alter ego of Maria Calavera?",
        answer1: "Grimm Reaper",
        answer2: "Shorty-Pants",
        answer3: "Spring Maiden",
        answer4: "Dust Sorceress",
        correctAnswer: 'Grimm Reaper'
    },
    {
        question:"Yang leaves to find Ruby after the fall of Beacon, but who is it she is actually looking for?",
        answer1: "Qrow",
        answer2: "Raven",
        answer3: "Robyn",
        answer4: "Yuma",
        correctAnswer: 2
    },
    {
        question:"What is the team name Nora creates when Ruby joins them?",
        answer1: "JNRR",
        answer2: "RNJR",
        answer3: "NRJR",
        answer4: "Where's the P gone?",
        correctAnswer: 1
    },
    {
        question:"Where does the battle between Cinder and Pyrrha come to a dramatic end?",
        answer1: "Amity Colusseum",
        answer2: "Beacon Tower",
        answer3: "Haven Academy",
        answer4: "Vale Docks",
        correctAnswer: 2
    },
    {
        question:"What does Oscar do before Ozpin joins him?",
        answer1: "Student",
        answer2: "Beggar",
        answer3: "Shop clerk",
        answer4: "Farmhand",
        correctAnswer: 4
    },
    //30 questions

    {
        question:"Who does Adam Kill to become the new head of the White fang?",
        answer1: "Sienna Khan",
        answer2: "Gira Belladonna",
        answer3: "Blake Belladonna",
        answer4: "Professor Lionheart",
        correctAnswer: 1
    },
    {
        question:"Which creature of Grimm is the final monster team RWBY fights during initiation?",
        answer1: "Nevermore",
        answer2: "Deathstalker",
        answer3: "Mutant Beowulf",
        answer4: "The Leviathan",
        correctAnswer: 1
    },
    {
        question:"What Grimm does Blake and Sun have to deal with on the boat?",
        answer1: "Sea Feilong",
        answer2: "Nuckelavee",
        answer3: "The Hound",
        answer4: "Sphinx",
        correctAnswer: 1
    },
    {
        question:"What doe Maria, Summer and Ruby have in common?",
        answer1: "Silver Eyes",
        answer2: "They're All Short",
        answer3: "Super Speedy",
        answer4: "They are Related",
        correctAnswer: 1
    },
    {
        question:"What is the name of the special team that catches team RWBYQRNJ in Mantel?",
        answer1: "SnowAngels", 
        answer2: "White Rooks",
        answer3: "Ace Ops",
        answer4: "Happy Huntresses",
        correctAnswer: 3
    },
    {
        question:"What do team RWBY discover about the more intelligent grimm that tries to capture Penny in Mantel?",
        answer1: "They are all related to Ozpin",
        answer2: "They can't Talk",
        answer3: "They have long tongues",
        answer4: "Humans with Silver Eyes",
        correctAnswer: 4
    },
    {
        question:"Who does team RWBYRNJ meet after escaping the Apathy?",
        answer1: "Jaunes Sister Safron",
        answer2: "Salem",
        answer3: "Team FNKY",
        answer4: "Sun Wukong",
        correctAnswer: 1
    },
    {
        question:"What is Mecury doing when Emerald is talking to Team RWBY about their second round team?",
        answer1: "Eating Pickles",
        answer2: "Sniffing Boots",
        answer3: "Stealing Money",
        answer4: "Kicking Ass in every way",
        correctAnswer: 2
    },
    {
        question:"What creature transports Salem and her team to Mantel?",
        answer1: "Dragon",
        answer2: "Whale",
        answer3: "Elephant",
        answer4: "Eagle",
        correctAnswer: 2
    },
    {
        question:"Pyrrha's semblance allows her to control What?",
        answer1: "Poles",
        answer2: "People",
        answer3: "Magnets",
        answer4: "Moods",
        correctAnswer: 3
    },
    // 40 questions

    {
        question:"What is the name of the abandoned villiage team RNJR and Qrow fight Tyrian?",
        answer1: "Vale",
        answer2: "Oniyuri",
        answer3: "Argus",
        answer4: "Mountain Glenn",
        correctAnswer: 2
    },
    {
        question:"Which creature does Cinder seek help from after losing to Raven in the Haven Vault?",
        answer1: "Bats",
        answer2: "Dogs",
        answer3: "Snakes",
        answer4: "Spiders",
        correctAnswer: 4
    },
    {
        question:"Whose Semblence Allows them to deal damage based on their own sustained damage?",
        answer1: "Yang",
        answer2: "Rwby",
        answer3: "Blake",
        answer4: "Weiss",
        correctAnswer: 1
    },
    {
        question:"After an outburst at a party, Weiss is replaced by Whitley as what?",
        answer1: "Princess",
        answer2: "Manager",
        answer3: "Heiress",
        answer4: "Director",
        correctAnswer: 3
    },
    {
        question:"What is Neptune most afraid of?",
        answer1: "Sand",
        answer2: "Seaweed",
        answer3: "Fish",
        answer4: "Water",
        correctAnswer: 4
    },
    {
        question:"What is the Event that leads a grimm evasion into vale?",
        answer1: "Train ram and bombs",
        answer2: "Semblence Explosion",
        answer3:  "White fang infiltration",
        answer4: "Apathy Effect",
        correctAnswer: 1
    },
    {
        question:"Jaune and Pyrrha's tem attack is called what?",
        answer1: "Flower Power",
        answer2: "Twin Lancers",
        answer3: "Arkos",
        answer4: "ShieldBash",
        correctAnswer: 3
    },
    {
        question:"What is the other inherited Semblence of the Schnee family along side Glyphs?",
        answer1: "Stopping Power",
        answer2: "Speed",
        answer3: "Spirit Doubles",
        answer4: "Summoning",
        correctAnswer: 4
    },
    {
        question:"What type of Faunus is Tyrian?",
        answer1: "Cat",
        answer2: "Rabbit",
        answer3: "Monkey",
        answer4: "Scorpion",
        correctAnswer: 4
    },
    {
        question:"What is the one peice of advise Ambrosius gives to team RWBYP?",
        answer1: "Stir it continuously",
        answer2: "Eat it with scones",
        answer3: "Do not fall",
        answer4: "Always look forward",
        correctAnswer: 3
    },
    //50 questions
]
//defining the variables

const question = document.getElementById('question');
const answers = Array.from(document.getElementsByClassName('answerText'));

let currentQuestion = {};
let acceptingAnswer = true;
let score = 0;
let lifeLost = 0;
let questionCounter = 0;
let availableQuestions = [];

//creating constants
const answerScore = 1;
const maxQuestions = 5;

//this is what we want to happen when the page is loaded
function startGame(){
    questionCounter = 0;
    score = 0;
    lifeLost = 0;
    availableQuestions = [...questions];
    nextQuestion();
};

//this will pull a new question from the available array of questinos
function nextQuestion(){
  if(availableQuestions === 0 || questionCounter >= maxQuestions){
        ldrbrdReveal();
  } else if (lifeLost === 3){
        endGame();
  }
  
    questionCounter++;
    let questionNo = document.getElementById('questionNumber');
    questionNo.innerText = `Question: ${questionCounter}/${maxQuestions}`;

    const questionIndex = Math.floor(Math.random() * availableQuestions.length);
        currentQuestion = availableQuestions[questionIndex];
        question.innerText = currentQuestion.question;

        //this will add the corresposnding question's answers to the correct buttons
        answers.forEach( answer => {
            const number = answer.dataset['answer'];
            answer.innerText = currentQuestion['answer' + number];
        });

        //removing current question from the available list
        availableQuestions.splice(questionIndex, 1);

        //this allows the correct answer to be selected if there is a question
        acceptingAnswer = true;
};


//this is adding a click listener to the answers to generate a new question
answers.forEach(answer => {
    answer.addEventListener('click', e => {

        //if no answer is required, return nothing
            if(!acceptingAnswer) return;

        //this will check if the answer selected is correct
            acceptingAnswer = false;
            const selectedOption = e.target;
            const selectedAnswer = selectedOption.dataset['answer'];
            const classResult = selectedAnswer == currentQuestion.correctAnswer ? 'correct' : 'incorrect';
                if(classResult === 'correct'){
                    increaseScore(answerScore);
                } else {
                    decreaseLife(answerScore);
                }


            const parentBtn = selectedOption.parentElement;
            parentBtn.classList.add(classResult);

//after clicking an answer this will generate a new question
            
            setTimeout( () => {
                parentBtn.classList.remove(classResult);
                nextQuestion();
            }, 1000);
            
    });
});

function increaseScore(){
    score += answerScore;
}

function decreaseLife(){
    lifeLost += answerScore;
    //let loseLife = document.getElementsByClassName('lifeline');
    //let byeLife = loseLife.dataset['life'];
    //byeLife.setAttribute('style', 'display:none');
}

function endGame(){
        let scaryFace = document.getElementById('gameOver');
        if(scaryFace.style.display === 'none'){
            scaryFace.removeAttribute('style', 'display:none');
        }
}

function endGameClose(){
    let restartGame = document.getElementById('gameOver');
    if(restartGame.style.display !== "none"){
        restartGame.setAttribute('style' ,'display:none');
        
        startGame();
    }
}


//function to make modal for rules
function modalChange(){
    let modChange = document.getElementById('rules-modal');
    if(modChange.style.display === "none"){
        modChange.removeAttribute('style', 'display:none');
    } else {
        modChange.setAttribute('style' ,'display:none');
    }
}

function ldrbrdReveal(){
    let brdUp = document.getElementById('leaderboard-box');
    if(brdUp.style.display === 'none'){
        brdUp.removeAttribute('style', 'display:none');
        let points = document.getElementById('userScore');
        points.innerText = `You beat Salem with a score of: ${score}`;
    }
}

function ldrbrdClose(){
    let brdDown = document.getElementById('leaderboard-box');
    if(brdDown.style.display !== "none"){
        brdDown.setAttribute('style' ,'display:none');
        
        startGame();
    }
}



startGame();
